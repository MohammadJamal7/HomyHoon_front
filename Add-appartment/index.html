<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Apartment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&display=swap');

        html, body {
            font-family: "Archivo", sans-serif;
        }

        .purple {
            background-color: #6f42c1;
            color: white;
        }

        .purple:hover {
            background-color: #5a379d;
        }

        /* Uploading images style */
        .card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }

        .card-header {
            background-color: #fff;
            border-bottom: 1px solid #e0e0e0;
        }

        .image-container {
            position: relative;
            padding-bottom: 100%;
            overflow: hidden;
        }

        .image-container img {
            position: absolute;
            object-fit: cover;
            width: 100%;
            height: 100%;
        }

        .add-image {
            border: 2px dashed #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            height: 150px;
        }

        .add-image:hover {
            background-color: #f8f9fa;
        }

        #fileInput {
            display: none;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }
        .delete-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background-color: rgba(255, 0, 0, 0.7);
    border: none;
    color: white;
    padding: 5px;
    cursor: pointer;
    
}

.delete-btn:hover {
    background-color: rgba(255, 0, 0, 1);
}
    </style>
</head>

<body>

    <div id="mynav"></div>

    <h2 class="ms-5" style="margin-top: 150px;">Add your apartment easily</h2>

    <div class="container-fluid shadow mt-5 rounded p-4" style="width: 95%; height: auto;">

        <div class="row">
            <div class="col">
                <span class="fs-6 me-1 fw-bold">General information</span> <span><img src="Assets/check.svg" alt=""></span>
            </div>
        </div>

        <!-- Form Section -->
        <div class="row mt-4">
            <div class="col-sm-12 col-md-4">
                <label for="title" class="fw-semibold"><small>Title</small></label>
                <input type="text" class="form-control bg-light" name="title" placeholder="Big flat with two doors" style="height: 32px;">
            </div>
            <div class="col-sm-12 col-md-4">
                <label for="title" class="fw-semibold"><small>Category</small></label>
                <select class="form-select bg-light" aria-label="Default select" style="height: 32px;">
                    <option selected>Flat</option>
                    <option value="1">Villa</option>
                    <option value="2">Studio</option>
                </select>
            </div>
            <div class="col-sm-12 col-md-4">
                <label for="price" class="fw-semibold"><small>Sale price $</small></label>
                <input type="number" class="form-control bg-light" placeholder="25" name="price" style="height: 32px;">
            </div>
        </div>

        <div class="row pt-4 g-3">
            <div class="col-sm-12 col-md-4">
                <label for="rooms" class="fw-semibold"><small>Rooms</small></label>
                <select class="form-select bg-light" aria-label="Default select" style="height: 32px;">
                    <option selected>1 room</option>
                    <option value="1">2 rooms</option>
                    <option value="2">3 rooms</option>
                    <option value="3">+4 rooms</option>
                </select>
            </div>

            <div class="col-sm-12 col-md-4">
                <label for="beds" class="fw-semibold"><small>Beds</small></label>
                <select class="form-select bg-light" aria-label="Default select" style="height: 32px;">
                    <option selected>1 bed</option>
                    <option value="1">2 beds</option>
                    <option value="2">+3 beds</option>
                </select>
            </div>

            <div class="col-sm-12 col-md-4">
                <label for="furnished" class="fw-semibold"><small>Furnished?</small></label>
                <select class="form-select bg-light" aria-label="Default select" style="height: 32px;">
                    <option selected>Yes</option>
                    <option value="1">No</option>
                </select>
            </div>
        </div>

        <!-- Description -->
        <div class="row pt-4">
            <div class="col-lg-6 col-sm-12">
                <label for="description" class="fw-semibold"><small>Description</small></label>
                <textarea name="description" rows="5" class="form-control bg-light" placeholder="Write something to describe your apartment..." cols="8"></textarea>
            </div>
            <div class="col-lg-6 col-sm-12">
                <label for="features" class="fw-semibold " ><small>Features</small></label>
                <div class="row  ">
                    <div class="col-6">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="kitchen">
                            <label class="form-check-label" for="kitchen">
                              Kitchen
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="aid">
                            <label class="form-check-label" for="aid">
                              First Aid
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="tv">
                            <label class="form-check-label" for="tv">
                              TV
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="wifi">
                            <label class="form-check-label" for="wifi">
                             Wifi
                            </label>
                          </div>
                    </div>

                    <div class="col-6">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="kitchen">
                            <label class="form-check-label" for="kitchen">
                              Free drink
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="aid">
                            <label class="form-check-label" for="aid">
                              Air condition
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="tv">
                            <label class="form-check-label" for="tv">
                              Heating
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="wifi">
                            <label class="form-check-label" for="wifi">
                             Parking
                            </label>
                          </div>
                    </div>
                </div>
                
            </div>
        </div>
        <hr class="mt-5">
        <div class="row mt-6">
            <div class="col-lg-7 col-sm-12">
                <div class="container-fluid rounded p-3" style="min-height: 30vh;">
                    <span class="fs-6 me-1 fw-bold">Media</span> <span><img src="Assets/check.svg" alt=""></span>
                    <div class="container">
                        <p id="albumCount" class="text-muted mb-3">Album 0 / 5 images</p>
                                <div id="imageGrid" class="image-grid">
                                    <div id="addImageBtn" class="add-image">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                        </svg>
                                    </div>
                                </div>
                    </div>

                    <input type="file" multiple id="fileInput" accept="image/*" aria-label="Upload image">
                </div>
            </div>
            <div class="col-lg-5 col-sm-12">
                <div class="container-fluid rounded p-4" style="min-height: 30vh;">
                    <span class="fs-6 me-1 fw-bold">Location</span> <span><img src="Assets/check.svg" alt=""></span>
                    <div class="container  mt-2 rounded" style="min-height: 20vh;">
                        <iframe 
  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3385.3451910609583!2d35.91063517581931!3d31.953949329378034!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151ca08bfab67b5b%3A0x8150ed6d47d236a6!2sAmman%2C%20Jordan!5e0!3m2!1sen!2sus!4v1698070128124!5m2!1sen!2sus" 
 
  
  style="border:0;" 
  allowfullscreen="" 
  loading="lazy" 
  referrerpolicy="no-referrer-when-downgrade">
</iframe>


                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col d-flex justify-content-center">
                <button class="btn purple w-25">Submit</button>
            </div>
        </div>
    </div>

    <div id="myFooter"></div>

    <script>
        fetch("../Components/navbar.html")
            .then((response) => response.text())
            .then((data) => {
                document.getElementById("mynav").innerHTML = data;
            });

        fetch('../Components/footer.html')
            .then((response) => response.text())
            .then((data) => {
                document.getElementById("myFooter").innerHTML = data;
            });

            document.addEventListener('DOMContentLoaded', function() {
    const imageGrid = document.getElementById('imageGrid');
    const addImageBtn = document.getElementById('addImageBtn');
    const albumCount = document.getElementById('albumCount');
    const fileInput = document.getElementById('fileInput');

    let imageCount = 0;
    const maxImages = 5;

    function updateAlbumCount() {
        albumCount.textContent = `Album ${imageCount} / ${maxImages} images`;
    }

    function addImage(file) {
        if (imageCount < maxImages) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const newImageCol = document.createElement('div');
                newImageCol.classList.add('image-item');  // Add a class to help remove the image later
                newImageCol.innerHTML = `
                    <div class="image-container rounded" style="position: relative;">
                        <img src="${e.target.result}" alt="Gallery image ${imageCount + 1}" class="img-fluid rounded">
                        <button class="delete-btn btn btn-danger text-white ">X</button  
                    </div>
                `;
                imageGrid.insertBefore(newImageCol, addImageBtn);
                imageCount++;
                updateAlbumCount();

                if (imageCount === maxImages) {
                    addImageBtn.style.display = 'none';
                }

                // Add event listener to delete the image when clicked
                const deleteBtn = newImageCol.querySelector('.delete-btn');
                deleteBtn.addEventListener('click', function() {
                    imageGrid.removeChild(newImageCol);
                    imageCount--;
                    updateAlbumCount();
                    if (imageCount < maxImages) {
                        addImageBtn.style.display = 'block';
                    }
                });
            };
            reader.readAsDataURL(file);
        }
    }

    fileInput.addEventListener('change', function(event) {
        const files = event.target.files;
        for (let i = 0; i < files.length; i++) {
            addImage(files[i]);
        }
        fileInput.value = '';  // Clear the input to allow selecting the same file again
    });

    addImageBtn.addEventListener('click', function() {
        fileInput.click();
    });

    updateAlbumCount();
});


    </script>

</body>

</html>
